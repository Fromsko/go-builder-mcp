# .goreleaser.yml configuration for gobuilder-mcp
version: 1

before:
  hooks:
    - go mod tidy
    - go test ./...

builds:
  - env:
      - CGO_ENABLED=0
    goos:
      - linux
      - windows
      - darwin
    goarch:
      - amd64
      - arm64
    ignore:
      - goos: windows
        goarch: arm64
    binary: gobuilder-mcp
    ldflags:
      - -s -w
      - -X main.version={{.Version}}
      - -X main.commit={{.Commit}}
      - -X main.date={{.Date}}
    flags:
      - -trimpath

archives:
  - format: tar.gz
    name_template: "{{ .ProjectName }}-{{ .Version }}-{{ .Os }}-{{ .Arch }}"
    files:
      - README.md
      - LICENSE
    format_overrides:
      - goos: windows
        format: zip

checksum:
  name_template: "{{ .ProjectName }}-{{ .Version }}-checksums.txt"

release:
  github:
    owner: Fromsko
    name: go-builder-mcp
  draft: false
  prerelease: auto
  name_template: "{{ .ProjectName }} v{{ .Version }}"
  header: |
    ## gobuilder-mcp v{{ .Version }}
    
    ğŸš€ è·¨å¹³å°æ„å»º Go åº”ç”¨ç¨‹åºçš„ MCP æœåŠ¡å™¨
    
    ### ğŸ“¦ ä¸‹è½½
    
    é€‰æ‹©é€‚åˆä½ æ“ä½œç³»ç»Ÿçš„ç‰ˆæœ¬ï¼š
    
    - **Linux**: gobuilder-mcp-{{ .Version }}-linux-amd64.tar.gz æˆ– gobuilder-mcp-{{ .Version }}-linux-arm64.tar.gz
    - **macOS**: gobuilder-mcp-{{ .Version }}-darwin-amd64.tar.gz æˆ– gobuilder-mcp-{{ .Version }}-darwin-arm64.tar.gz  
    - **Windows**: gobuilder-mcp-{{ .Version }}-windows-amd64.zip
    
    ### ğŸš€ å¿«é€Ÿå¼€å§‹
    
    ```bash
    # ä¸‹è½½å¹¶è§£å‹
    tar -xzf gobuilder-mcp-{{ .Version }}-linux-amd64.tar.gz
    
    # è¿è¡Œ
    ./gobuilder-mcp
    ```
    
    ### ğŸ“– æ–‡æ¡£
    
    è¯¦ç»†ä½¿ç”¨è¯´æ˜è¯·æŸ¥çœ‹ [README.md](README.md)
    
    ---
    
    ğŸ¤– è‡ªåŠ¨å‘å¸ƒäº {{ .Date }}
  footer: |
    ### ğŸ™ è‡´è°¢
    
    æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…å’Œç”¨æˆ·çš„æ”¯æŒï¼
    
    ### ğŸ”— é“¾æ¥
    
    - [é¡¹ç›®ä¸»é¡µ](https://github.com/Fromsko/go-builder-mcp)
    - [æ–‡æ¡£](README.md)
    - [é—®é¢˜åé¦ˆ](https://github.com/Fromsko/go-builder-mcp/issues)
    
    ---
    
    æœ¬å‘å¸ƒç”± [GoReleaser](https://goreleaser.com) è‡ªåŠ¨ç”Ÿæˆ
